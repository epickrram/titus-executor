version: 2
jobs:
  builder:
    docker:
      - image: docker:17.05.0-ce-git
    resource_class: xlarge
    steps:
      - checkout
      - setup_remote_docker
      - run:
          name: Build Docker Image
          command: docker build -t titusoss/titus-executor-builder hack/builder
  test:
    docker:
      - image: circleci/1.10.1-stretch
    resource_class: xlarge
    steps:
      - checkout
      - make test-standalone

